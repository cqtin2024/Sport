<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quy Tr√¨nh Thi·∫øt L·∫≠p D·ª± √°n M·∫´u (GitHub + Vercel + Google)</title>
    <!-- T·∫£i Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        pre {
            background-color: #1f2937; /* Gray-800 */
            color: #f9fafb; /* White */
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            font-size: 0.875rem; /* text-sm */
            margin-top: 0.5rem;
        }

        /* 1. Container cho ph√©p chi·ªÅu cao ƒë·ªông */
        #slides-window {
            overflow: hidden;
            height: auto; 
            position: relative; 
        }

        /* 2. Wrapper ph·∫£i l√† relative v√† c√≥ chi·ªÅu r·ªông 100% */
        #slides-wrapper {
            position: relative; 
            width: 100%;
            height: 100%;
        }
        
        /* 3. Slide Item: D√πng absolute ƒë·ªÉ tho√°t kh·ªèi flow v√† ch·ªâ c√≥ slide hi·ªán t·∫°i ·∫£nh h∆∞·ªüng ƒë·∫øn chi·ªÅu cao */
        .slide-item {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            /* √Åp d·ª•ng transition cho opacity v√† transform ƒë·ªÉ c√≥ hi·ªáu ·ª©ng m∆∞·ª£t m√† */
            transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out; 
            box-sizing: border-box; 
            z-index: 10;
        }

        /* 4. Th√™m m·ªôt l·ªõp ƒë·ªÉ ·∫©n slide kh√¥ng ƒë∆∞·ª£c ch·ªçn */
        .slide-hidden {
            transform: translateX(100%);
            opacity: 0;
            pointer-events: none;
            z-index: 1;
        }

        /* 5. ƒê·∫£m b·∫£o slide hi·ªán t·∫°i ·ªü v·ªã tr√≠ 0 */
        .slide-active {
            transform: translateX(0);
            opacity: 1;
            pointer-events: auto;
            position: relative; /* D√πng relative ƒë·ªÉ n√≥ ƒë·∫©y chi·ªÅu cao c·ªßa #slides-window */
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div id="app" class="max-w-4xl mx-auto">
        <header class="text-center mb-8 bg-white p-6 rounded-xl shadow-lg">
            <h1 class="text-3xl font-bold text-gray-800 mb-2">
                H√†nh Tr√¨nh Tri·ªÉn Khai App Hi·ªán ƒê·∫°i
            </h1>
            <p class="text-xl text-indigo-600 font-semibold">
                QUY TR√åNH CH·ªà S·ª¨ D·ª§NG GIAO DI·ªÜN TR√åNH DUY·ªÜT (ONLINE FIRST)
            </p>
            <p class="text-sm text-gray-500 mt-2">
                Ho√†n th√†nh c√°c b∆∞·ªõc d∆∞·ªõi ƒë√¢y. Ti·∫øn tr√¨nh v√† d·ªØ li·ªáu ƒë∆∞·ª£c l∆∞u t·ª± ƒë·ªông tr√™n tr√¨nh duy·ªát n√†y.
            </p>
        </header>

        <div id="project-data-display" class="mb-8 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-sm text-gray-700 rounded-lg hidden">
            <p class="font-bold mb-1 text-yellow-700">D·ªØ li·ªáu D·ª± √°n ƒê√£ Ghi nh·∫≠n:</p>
            <ul id="data-list" class="list-disc list-inside space-y-0.5">
                <!-- Data will be inserted here -->
            </ul>
        </div>

        <!-- Carousel / Slideshow Structure -->
        <div id="carousel-wrapper" class="relative">
            <!-- Slide Window: Gi·ªØ n·ªôi dung, t·ª± ƒëi·ªÅu ch·ªânh chi·ªÅu cao -->
            <div id="slides-window" class="rounded-2xl shadow-2xl bg-white">
                <div id="slides-wrapper">
                    <!-- Steps/Phases will be rendered here as slides -->
                </div>
            </div>

            <!-- Navigation Controls -->
            <div class="flex justify-between mt-4">
                <button id="prev-btn" onclick="navigateSlides(-1)" 
                        class="px-6 py-2 bg-gray-300 text-gray-800 font-semibold rounded-lg shadow-md hover:bg-gray-400 transition duration-150 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed">
                    &larr; Phase Tr∆∞·ªõc
                </button>
                <div id="phase-counter" class="text-lg font-bold text-indigo-600 self-center"></div>
                <button id="next-btn" onclick="navigateSlides(1)" 
                        class="px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700 transition duration-150 focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed">
                    Phase Ti·∫øp &rarr;
                </button>
            </div>
        </div>
        <!-- End Carousel Structure -->

        <footer class="text-center mt-10 text-gray-500 text-xs">
            Phi√™n b·∫£n h∆∞·ªõng d·∫´n: M·∫´u App Next.js/React - ∆Øu ti√™n Tr√¨nh duy·ªát.
        </footer>
    </div>

    <script>
        // Khai b√°o bi·∫øn to√†n c·ª•c ƒë·ªÉ l∆∞u tr·ªØ d·ªØ li·ªáu d·ª± √°n
        let projectData = {};
        const PROJECT_DATA_KEY = 'project_setup_data';
        const TASK_STATE_KEY = 'project_setup_task_state';
        let currentPhaseIndex = 0; // State m·ªõi: Theo d√µi slide/phase hi·ªán t·∫°i

        // D·ªØ li·ªáu c√°c b∆∞·ªõc h∆∞·ªõng d·∫´n (ƒê√£ ch·ªânh s·ª≠a ƒë·ªÉ ph√π h·ª£p v·ªõi quy tr√¨nh Online/Browser)
        const stepsData = [
            {
                id: 'accounts',
                title: 'Phase 1: Chu·∫©n b·ªã T√†i kho·∫£n C∆° b·∫£n',
                color: 'bg-indigo-500',
                tasks: [
                    { id: 't1_github', text: 'ƒêƒÉng nh·∫≠p v√†o t√†i kho·∫£n GitHub.', isInputRequired: true, inputId: 'githubUsername', inputPlaceholder: 'Nh·∫≠p T√™n ng∆∞·ªùi d√πng GitHub c·ªßa b·∫°n' },
                    { id: 't2_vercel', text: 'ƒêƒÉng nh·∫≠p v√†o t√†i kho·∫£n Vercel (n√™n li√™n k·∫øt v·ªõi GitHub).', isInputRequired: true, inputId: 'vercelUsername', inputPlaceholder: 'Nh·∫≠p T√™n team/ng∆∞·ªùi d√πng Vercel' },
                    { id: 't3_google_acc', text: 'ƒê·∫£m b·∫£o c√≥ t√†i kho·∫£n Google ƒë·ªÉ d√πng Firebase.', isInputRequired: true, inputId: 'googleEmail', inputPlaceholder: 'Nh·∫≠p Email Google/Firebase' }
                ]
            },
            {
                id: 'github_setup',
                title: 'Phase 2: Kh·ªüi t·∫°o Code tr·ª±c tuy·∫øn tr√™n GitHub (Next.js)',
                color: 'bg-gray-700',
                tasks: [
                    { 
                        id: 't4_create_repo', 
                        text: 'T·∫°o m·ªôt Repository m·ªõi (public ho·∫∑c private) tr√™n GitHub.', 
                        isInputRequired: true, 
                        inputId: 'githubRepoUrl', 
                        inputPlaceholder: 'D√°n URL Repo GitHub (v√≠ d·ª•: https://github.com/user/project)',
                        detail: `
                            <p class="mb-2"><strong>H∆∞·ªõng d·∫´n T·∫°o Repo:</strong></p>
                            <ul class="list-disc list-inside ml-4 text-sm space-y-0.5">
                                <li>Truy c·∫≠p GitHub v√† ch·ªçn **New**.</li>
                                <li>ƒê·∫∑t t√™n Repo (v√≠ d·ª•: sport-manager-online).</li>
                                <li>Quan tr·ªçng: ƒê·∫£m b·∫£o **KH√îNG** ch·ªçn t√πy ch·ªçn "Add a README file" hay ".gitignore". Ch√∫ng ta s·∫Ω t·∫°o th·ªß c√¥ng c√°c file n√†y.</li>
                                <li>Nh·∫•n **Create repository**.</li>
                            </ul>
                        `
                    },
                    { 
                        id: 't5_package_json', 
                        text: 'T·∫°o file `package.json` ƒë·ªÉ ƒë·ªãnh nghƒ©a d·ª± √°n v√† th∆∞ vi·ªán.',
                        detail: `
                            <p class="mb-2"><strong>C√°ch t·∫°o file tr√™n GitHub:</strong></p>
                            <p class="mb-1">1. Trong Repo m·ªõi t·∫°o, ch·ªçn n√∫t **Add file** -> **Create new file**.</p>
                            <p class="mb-1">2. ƒê·∫∑t t√™n file l√† <code>package.json</code> (·ªü th∆∞ m·ª•c g·ªëc).</p>
                            <p class="mb-1">3. Sao ch√©p v√† d√°n n·ªôi dung code m·∫´u b√™n d∆∞·ªõi (Commit sau khi d√°n).</p>
                            <h4 class="font-bold mt-3 mb-1 text-gray-700">N·ªôi dung package.json:</h4>
                        `,
                        codeSnippet: 
`{
  "name": "sport-manager-app",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint"
  },
  "dependencies": {
    "react": "^18",
    "react-dom": "^18",
    "next": "14.2.3",
    "firebase": "^10.12.2"
  },
  "devDependencies": {
    "typescript": "^5",
    "@types/node": "^20",
    "@types/react": "^18",
    "@types/react-dom": "^18",
    "postcss": "^8",
    "tailwindcss": "^3.4.1",
    "eslint": "^8",
    "eslint-config-next": "14.2.3"
  }
}`
                    },
                    { 
                        id: 't6_core_files', 
                        text: 'T·∫°o c√°c file c·∫•u h√¨nh v√† m√£ ngu·ªìn c·ªët l√µi (next.config.js, .gitignore, src/app/...).',
                        detail: `
                            <p class="mb-2"><strong>T·∫°o l·∫ßn l∆∞·ª£t c√°c file sau tr√™n GitHub (Add file -> Create new file), nh·ªõ k√®m theo ƒë∆∞·ªùng d·∫´n:</strong></p>
                            
                            <h4 class="font-bold mt-3 mb-1 text-gray-700">1. next.config.js (ƒê·∫∑t ·ªü th∆∞ m·ª•c g·ªëc)</h4>
                            <pre class="bg-gray-800 text-white p-3 rounded text-sm overflow-x-auto">
/** @type {import('next').NextConfig} */
const nextConfig = {
    reactStrictMode: true,
    experimental: {
        appDir: true,
    },
};

module.exports = nextConfig;
                            </pre>

                            <h4 class="font-bold mt-3 mb-1 text-gray-700">2. .gitignore (ƒê·∫∑t ·ªü th∆∞ m·ª•c g·ªëc)</h4>
                            <pre class="bg-gray-800 text-white p-3 rounded text-sm overflow-x-auto">
/node_modules
/.next/
.env.local
.DS_Store
# KH√îNG BAO G·ªíM C√ÅC FILE L·ªöN HO·∫∂C NH·∫†Y C·∫¢M
                            </pre>
                            
                            <h4 class="font-bold mt-3 mb-1 text-gray-700">3. src/app/globals.css (C·∫ßn ƒë·ªÉ Tailwind ho·∫°t ƒë·ªông)</h4>
                            <pre class="bg-gray-800 text-white p-3 rounded text-sm overflow-x-auto">
@tailwind base;
@tailwind components;
@tailwind utilities;
                            </pre>
                            
                            <h4 class="font-bold mt-3 mb-1 text-gray-700">4. src/app/page.tsx (Trang ch·ªß t·ªëi thi·ªÉu)</h4>
                            <pre class="bg-gray-800 text-white p-3 rounded text-sm overflow-x-auto">
// ƒê·∫£m b·∫£o t·∫°o th∆∞ m·ª•c src/app/
export default function Home() {
  return (
    &lt;main>
      &lt;h1 class="text-xl p-4">D·ª± √°n ƒë√£ s·∫µn s√†ng ƒë·ªÉ Deploy l√™n Vercel!&lt;/h1>
    &lt;/main>
  );
}
                            </pre>
                            <h4 class="font-bold mt-3 mb-1 text-gray-700">5. src/app/layout.tsx (C·∫•u tr√∫c HTML ch√≠nh)</h4>
                            <pre class="bg-gray-800 text-white p-3 rounded text-sm overflow-x-auto">
import './globals.css';
import type { Metadata } from 'next';
import { Inter } from 'next/font/google';

const inter = Inter({ subsets: ['latin'] });
export const metadata = { title: 'Sport Manager', description: 'App' };

export default function RootLayout({ children }) {
  return (
    &lt;html lang="vi">
      &lt;body className={inter.className}>
        {children}
      &lt;/body>
    &lt;/html>
  );
}
                            </pre>
                            <p class="mt-2 text-xs text-indigo-600 font-semibold">Sau khi t·∫°o xong t·∫•t c·∫£ 5 files/folders n√†y, Repo ƒë√£ ƒë·ªß ƒëi·ªÅu ki·ªán ƒë·ªÉ Vercel nh·∫≠n di·ªán v√† Build.</p>
                        `
                    },
                    { id: 't7_initial_commit', text: 'Commit (L∆∞u) t·∫•t c·∫£ c√°c file v·ª´a t·∫°o. Repository ƒë√£ s·∫µn s√†ng! (Vercel s·∫Ω t·ª± ƒë·ªông build t·ª´ ƒë√¢y).' }
                ]
            },
            {
                id: 'google_firebase',
                title: 'Phase 3: T√≠ch h·ª£p D·ªãch v·ª• Google (Firebase)',
                color: 'bg-yellow-600',
                tasks: [
                    { 
                        id: 't9_firebase_project', 
                        text: 'T·∫°o m·ªôt d·ª± √°n m·ªõi trong Firebase Console.',
                        detail: `
                            <p class="mb-2">1. Truy c·∫≠p <a href="https://console.firebase.google.com/" target="_blank" class="text-indigo-600 underline font-semibold" rel="noopener noreferrer">Firebase Console</a> v√† ƒëƒÉng nh·∫≠p.</p>
                            <p class="mb-2">2. Nh·∫•n **Add project** (Th√™m d·ª± √°n).</p>
                            <p class="mb-2">3. ƒê·∫∑t t√™n d·ª± √°n (v√≠ d·ª•: <span class="font-semibold text-indigo-700">\${projectData.projectName}</span>). T√™n n√†y kh√¥ng c·∫ßn tr√πng v·ªõi t√™n Repo GitHub.</p>
                            <p class="mb-2">4. Ch·ªçn b·∫≠t ho·∫∑c t·∫Øt Google Analytics (th∆∞·ªùng b·∫≠t cho ·ª©ng d·ª•ng s·∫£n ph·∫©m).</p>
                            <p class="mb-2">5. Nh·∫•n **Create project**.</p>
                        `
                    },
                    { 
                        id: 't10_web_app', 
                        text: 'ƒêƒÉng k√Ω Web App v√† l·∫•y c·∫•u h√¨nh (firebaseConfig).', 
                        isInputRequired: true, 
                        inputId: 'firebaseApiKey', 
                        inputPlaceholder: 'D√°n Firebase API Key (Ch·ªâ ƒë·ªÉ theo d√µi ti·∫øn ƒë·ªô)',
                        detail: `
                            <p class="mb-2">1. Sau khi d·ª± √°n t·∫°o xong, ch·ªçn bi·ªÉu t∆∞·ª£ng **Web &lt;/&gt;** (d∆∞·ªõi "Get started by adding an app").</p>
                            <p class="mb-2">2. ƒê·∫∑t bi·ªát danh cho ·ª©ng d·ª•ng (v√≠ d·ª•: Vercel Deploy).</p>
                            <p class="mb-2">3. Sau khi ƒëƒÉng k√Ω, b·∫°n s·∫Ω th·∫•y m·ªôt kh·ªëi code JS ch·ª©a ƒë·ªëi t∆∞·ª£ng <code>firebaseConfig</code>.</p>
                            <p class="mb-2">4. **Sao ch√©p v√† l∆∞u l·∫°i 7 bi·∫øn sau** (d√πng cho b∆∞·ªõc c√†i ƒë·∫∑t bi·∫øn m√¥i tr∆∞·ªùng Vercel ·ªü Phase 5):</p>
                            <ul class="list-disc list-inside ml-4 text-sm font-mono">
                                <li>apiKey</li>
                                <li>authDomain</li>
                                <li>projectId</li>
                                <li>storageBucket</li>
                                <li>messagingSenderId</li>
                                <li>appId</li>
                                <li>measurementId (N·∫øu c√≥ Analytics)</li>
                            </ul>
                            <p class="mt-2 font-semibold text-sm text-indigo-700">Quan tr·ªçng: Ch·ªâ c·∫ßn nh·∫≠p API Key v√†o √¥ tr√™n ƒë·ªÉ ghi nh·∫≠n b∆∞·ªõc n√†y. V·∫´n ph·∫£i l∆∞u T·∫§T C·∫¢ 7 bi·∫øn b√™n ngo√†i.</p>
                        `
                    },
                    { 
                        id: 't13_auth', 
                        text: 'B·∫≠t ph∆∞∆°ng th·ª©c ƒêƒÉng nh·∫≠p Google (Authentication).', 
                        detail: `
                            <p class="mb-2">1. Trong menu b√™n tr√°i c·ªßa Firebase Console, ch·ªçn **Authentication**.</p>
                            <p class="mb-2">2. Ch·ªçn tab **Sign-in method**.</p>
                            <p class="mb-2">3. T√¨m m·ª•c **Google**, nh·∫•n bi·ªÉu t∆∞·ª£ng b√∫t ch√¨ ƒë·ªÉ ch·ªânh s·ª≠a.</p>
                            <p class="mb-2">4. **B·∫≠t** (Enable) ph∆∞∆°ng th·ª©c n√†y.</p>
                            <p class="mb-2">5. Th√™m Email H·ªó tr·ª£ (Support email) v√† nh·∫•n **Save**.</p>
                            <p class="mt-2 font-semibold text-red-600">L∆ØU √ù QUAN TR·ªåNG: N·∫øu b·∫°n kh√¥ng b·∫≠t ph∆∞∆°ng th·ª©c n√†y, ch·ª©c nƒÉng ƒëƒÉng nh·∫≠p Google trong app s·∫Ω kh√¥ng ho·∫°t ƒë·ªông!</p>
                        `
                    },
                    { 
                        id: 't15_firestore_db', 
                        text: 'T·∫°o c∆° s·ªü d·ªØ li·ªáu Firestore (Database).',
                        detail: `
                            <p class="mb-2">1. Trong menu b√™n tr√°i, ch·ªçn **Firestore Database**.</p>
                            <p class="mb-2">2. Nh·∫•n **Create database**.</p>
                            <p class="mb-2">3. Ch·ªçn **Start in production mode** (ch·∫ø ƒë·ªô s·∫£n xu·∫•t) ƒë·ªÉ b·∫£o m·∫≠t. Nh·∫•n **Next**.</p>
                            <p class="mb-2">4. Ch·ªçn V·ªã tr√≠ l∆∞u tr·ªØ d·ªØ li·ªáu (n√™n ch·ªçn g·∫ßn n∆°i ng∆∞·ªùi d√πng c·ªßa b·∫°n sinh s·ªëng, v√≠ d·ª•: asia-southeast1 (Singapore)). Nh·∫•n **Enable**.</p>
                        `
                    },
                    { 
                        id: 't16_security_rules', 
                        text: 'C·∫•u h√¨nh Security Rules c∆° b·∫£n cho Firestore.',
                        detail: `
                            <p class="mb-2">Sau khi Database t·∫°o xong, ch·ªçn tab **Rules**.</p>
                            <p class="mb-2">Thay th·∫ø n·ªôi dung m·∫∑c ƒë·ªãnh b·∫±ng rules sau ƒë·ªÉ ch·ªâ cho ph√©p **ng∆∞·ªùi d√πng ƒë√£ ƒëƒÉng nh·∫≠p** ƒë·ªçc v√† ghi:</p>
                            <h4 class="font-bold mt-3 mb-1 text-gray-700">Firestore Rules:</h4>
                            <pre class="bg-gray-800 text-white p-3 rounded text-sm overflow-x-auto">
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Cho ph√©p ƒë·ªçc/ghi n·∫øu ng∆∞·ªùi d√πng ƒë√£ x√°c th·ª±c (request.auth != null)
    match /{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}
                            </pre>
                            <p class="mt-2 text-sm text-red-600 font-semibold">Nh·∫•n **Publish** (Xu·∫•t b·∫£n) ƒë·ªÉ l∆∞u Rules. Sau n√†y Dev s·∫Ω c·∫ßn ƒëi·ªÅu ch·ªânh chi ti·∫øt h∆°n.</p>
                        `
                    },
                    { 
                        id: 't14_env_online', 
                        text: 'Chu·∫©n b·ªã B·ªô Bi·∫øn M√¥i tr∆∞·ªùng (NEXT_PUBLIC_...) cho Vercel (Phase 5).',
                        detail: `
                            <p class="mb-2">T·∫°o m·ªôt ghi ch√∫ ho·∫∑c file t·∫°m th·ªùi ƒë·ªÉ l∆∞u 7 bi·∫øn c·∫•u h√¨nh Firebase d∆∞·ªõi d·∫°ng bi·∫øn m√¥i tr∆∞·ªùng c·ªßa Next.js.</p>
                            <p class="mb-2"><strong>Quy t·∫Øc ƒë·∫∑t t√™n tr√™n Vercel:</strong> Th√™m ti·ªÅn t·ªë <code>NEXT_PUBLIC_FIREBASE_</code> v√†o t√™n bi·∫øn g·ªëc.</p>
                            <h4 class="font-bold mt-3 mb-1 text-gray-700">M·∫´u bi·∫øn c·∫ßn l∆∞u:</h4>
                            <pre class="bg-gray-800 text-white p-3 rounded text-sm overflow-x-auto">
NEXT_PUBLIC_FIREBASE_API_KEY=[Gi√° tr·ªã apiKey]
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=[Gi√° tr·ªã authDomain]
NEXT_PUBLIC_FIREBASE_PROJECT_ID=[Gi√° tr·ªã projectId]
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=[Gi√° tr·ªã storageBucket]
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=[Gi√° tr·ªã messagingSenderId]
NEXT_PUBLIC_FIREBASE_APP_ID=[Gi√° tr·ªã appId]
NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID=[Gi√° tr·ªã measurementId]
                            </pre>
                            <p class="mt-2 font-semibold text-red-600">Nh·ªØng bi·∫øn n√†y s·∫Ω ƒë∆∞·ª£c d√°n v√†o Vercel ·ªü Phase 5.</p>
                        `
                    },
                ]
            },
            {
                id: 'database_schema',
                title: 'Phase 4: C·∫•u tr√∫c Database (Firestore) & Code M·∫´u',
                color: 'bg-green-600',
                tasks: [
                    { 
                        id: 't17_data_model', 
                        text: 'Tham kh·∫£o M√¥ h√¨nh d·ªØ li·ªáu c∆° b·∫£n cho App H·ªôi Thao.',
                        detail: `
                            <p class="mb-2">D∆∞·ªõi ƒë√¢y l√† m√¥ h√¨nh s∆° b·ªô ƒë·ªÉ Dev ti·∫øp t·ª•c ph√°t tri·ªÉn. B·∫°n c√≥ th·ªÉ t·ª± th√™m d·ªØ li·ªáu m·∫´u v√†o Firestore Console ƒë·ªÉ ki·ªÉm tra k·∫øt n·ªëi ·ªü Phase 5.</p>
                            <h4 class="font-bold mt-3 mb-1 text-gray-700">M√¥ h√¨nh D·ªØ li·ªáu:</h4>
                            <pre class="bg-gray-800 text-white p-3 rounded text-sm overflow-x-auto">
// 1. Collection: events (S·ª± ki·ªán)
//    - Document: event_id_1
//      - name: "Gi·∫£i b√≥ng ƒë√° m√πa xu√¢n 2026"
//      - date: "2026-03-01"
//      - status: "Active"
//
// 2. Collection: teams (ƒê·ªôi)
//    - Document: team_id_A
//      - name: "ƒê·ªôi K·ªπ thu·∫≠t"
//      - eventId: event_id_1
//
// 3. Collection: athletes (V·∫≠n ƒë·ªông vi√™n)
//    - Document: athlete_id_X
//      - name: "Nguy·ªÖn VƒÉn A"
//      - teamId: team_id_A
//      - score: 0
// </pre>
                        `
                    },
                    { 
                        id: 't12_init_firebase_code', 
                        text: 'Code M·∫´u Kh·ªüi t·∫°o Firebase trong Next.js (Vi·∫øt tr·ª±c tuy·∫øn tr√™n GitHub).', 
                        codeSnippet: 
`// T·∫°o file: src/lib/firebase-config.ts (TR·ª∞C TUY·∫æN TR√äN GITHUB)
import { initializeApp } from "firebase/app";
import { getAuth } from "firebase/auth";
import { getFirestore } from "firebase/firestore";

// S·ª≠ d·ª•ng c√°c bi·∫øn m√¥i tr∆∞·ªùng m√† b·∫°n ƒë√£ thi·∫øt l·∫≠p tr√™n Vercel ·ªü Phase 5
const firebaseConfig = {
    apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY, 
    authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,
    projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,
    storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,
    messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,
    appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,
    measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID,
};

// Kh·ªüi t·∫°o v√† Export c√°c d·ªãch v·ª•
export const app = initializeApp(firebaseConfig);
export const auth = getAuth(app);
export const db = getFirestore(app);
`
                    },
                    { id: 't18_fetch_code', text: 'Vi·∫øt m√£ m·∫´u ƒë·ªÉ fetch d·ªØ li·ªáu Events t·ª´ Firestore (S·∫Ω ƒë∆∞·ª£c code tr·ª±c tuy·∫øn tr√™n GitHub sau khi Deploy).' }
                ]
            },
            {
                id: 'vercel_deploy',
                title: 'Phase 5: Tri·ªÉn khai T·ª± ƒë·ªông v·ªõi Vercel',
                color: 'bg-black',
                tasks: [
                    { id: 't19_vercel_import', text: 'ƒêƒÉng nh·∫≠p Vercel v√† ch·ªçn "Add New Project", sau ƒë√≥ Import Repository t·ª´ GitHub (<a href="' + (projectData.githubRepoUrl || '#') + '" target="_blank" class="text-indigo-300 underline">Repo ƒë√£ t·∫°o tr·ª±c tuy·∫øn</a>).', isInputRequired: true, inputId: 'vercelProjectUrl', inputPlaceholder: 'D√°n URL Project Vercel (v√≠ d·ª•: https://my-app.vercel.app)' },
                    { 
                        id: 't20_env_vercel', 
                        text: 'Quan tr·ªçng: D√°n t·∫•t c·∫£ c√°c bi·∫øn m√¥i tr∆∞·ªùng (l·∫•y t·ª´ Phase 3) v√†o C·∫•u h√¨nh Bi·∫øn m√¥i tr∆∞·ªùng tr√™n Vercel.',
                        detail: `
                            <p class="mb-2">Trong qu√° tr√¨nh Import Project, Vercel s·∫Ω y√™u c·∫ßu b·∫°n nh·∫≠p Bi·∫øn m√¥i tr∆∞·ªùng.</p>
                            <p class="mb-2">D√°n **t·∫•t c·∫£ 7 bi·∫øn** ƒë√£ chu·∫©n b·ªã ·ªü Phase 3. ƒê·∫£m b·∫£o ch√∫ng c√≥ ti·ªÅn t·ªë <code>NEXT_PUBLIC_</code>.</p>
                            <p class="mt-2 font-semibold text-red-600">L∆∞u √Ω: N·∫øu qu√™n, b·∫°n c√≥ th·ªÉ v√†o **Project Settings** -> **Environment Variables** ƒë·ªÉ th√™m sau.</p>
                        `
                    },
                    { id: 't21_deploy_first', text: 'Nh·∫•n Deploy v√† ch·ªù ƒë·ª£i l·∫ßn tri·ªÉn khai ƒë·∫ßu ti√™n th√†nh c√¥ng (Vercel t·ª± ƒë·ªông build).' },
                    { id: 't22_test_cd', text: 'Ki·ªÉm tra Continuous Deployment: Th·ª±c hi·ªán m·ªôt thay ƒë·ªïi nh·ªè TR·ª∞C TUY·∫æN tr√™n GitHub. Xem Vercel t·ª± ƒë·ªông build v√† deploy l·∫°i.' }
                ]
            },
        ];

        // --- Logic l∆∞u tr·ªØ v√† c·∫≠p nh·∫≠t tr·∫°ng th√°i ---

        function loadState() {
            try {
                const data = localStorage.getItem(PROJECT_DATA_KEY);
                projectData = data ? JSON.parse(data) : {};
            } catch (e) {
                console.error("Error loading project data:", e);
                projectData = {};
            }
        }
        
        function saveProjectData() {
            localStorage.setItem(PROJECT_DATA_KEY, JSON.stringify(projectData));
            updateProjectDataDisplay();
        }

        function saveTaskState(taskId, state) {
            let taskStates = JSON.parse(localStorage.getItem(TASK_STATE_KEY) || '{}');
            taskStates[taskId] = state ? 'completed' : 'pending';
            localStorage.setItem(TASK_STATE_KEY, JSON.stringify(taskStates));
        }

        function loadTaskState(taskId) {
            let taskStates = JSON.parse(localStorage.getItem(TASK_STATE_KEY) || '{}');
            return taskStates[taskId] === 'completed';
        }

        function updateProjectDataDisplay() {
            const dataList = document.getElementById('data-list');
            const dataDisplay = document.getElementById('project-data-display');
            dataList.innerHTML = '';
            let hasData = false;

            for (const [key, value] of Object.entries(projectData)) {
                if (value) {
                    const li = document.createElement('li');
                    const displayKey = key.replace(/([A-Z])/g, ' $1').toUpperCase();
                    li.innerHTML = `<span class="font-medium">${displayKey}:</span> <code class="bg-yellow-200 px-1 rounded">${value}</code>`;
                    dataList.appendChild(li);
                    hasData = true;
                }
            }

            if (hasData) {
                dataDisplay.classList.remove('hidden');
            } else {
                dataDisplay.classList.add('hidden');
            }
        }
        
        function toggleTask(taskId) {
            const checkbox = document.getElementById(`check-${taskId}`);
            // Kh√¥ng s·ª≠ d·ª•ng querySelector cho label n·ªØa v√¨ n√≥ n·∫±m trong labelWrapper
            const isChecked = checkbox.checked;

            saveTaskState(taskId, isChecked);

            // T√¨m label ƒë·ªÉ g·∫°ch ngang
            const labelElement = document.getElementById(`label-${taskId}`);

            if (isChecked) {
                labelElement.classList.add('line-through', 'text-gray-400');
                labelElement.classList.remove('text-gray-700');
            } else {
                labelElement.classList.remove('line-through', 'text-gray-400');
                labelElement.classList.add('text-gray-700');
            }
            
            updateProgressBar();
        }

        function handleInput(inputId, value) {
            projectData[inputId] = value;
            saveProjectData();
            
            // Re-render only the current slide to show the new 'ƒê√£ ghi nh·∫≠n' badge and input style
            // NOTE: Lu√¥n g·ªçi updateSlideContent cho phase hi·ªán t·∫°i ƒë·ªÉ c·∫≠p nh·∫≠t gi√° tr·ªã ƒë√£ l∆∞u
            updateSlideContent(currentPhaseIndex); 
            
            updateSlidePosition();
        }

        function copyCode(taskId, buttonElement) {
            const codeContainer = document.getElementById(`code-snippet-${taskId}`);
            if (!codeContainer) return;

            const tempTextarea = document.createElement('textarea');
            // C·∫ßn l·∫•y textContent c·ªßa codeContainer (pre)
            // L·∫•y n·ªôi dung t·ª´ PRE
            const codeContent = codeContainer.closest('pre').textContent.trim();
            tempTextarea.value = codeContent;
            
            document.body.appendChild(tempTextarea);
            tempTextarea.select();

            let success = false;
            try {
                // S·ª≠ d·ª•ng document.execCommand('copy') do gi·ªõi h·∫°n iFrame
                success = document.execCommand('copy');
            } catch (err) {
                console.error('Copy failed:', err);
            }

            document.body.removeChild(tempTextarea);

            // C·∫≠p nh·∫≠t tr·∫°ng th√°i n√∫t
            if (success) {
                const originalText = buttonElement.textContent;
                const originalClasses = Array.from(buttonElement.classList);

                buttonElement.textContent = 'ƒê√£ sao ch√©p!';
                buttonElement.classList.remove('bg-gray-600', 'hover:bg-gray-700');
                buttonElement.classList.add('bg-green-600');
                
                setTimeout(() => {
                    buttonElement.textContent = originalText;
                    // Restore original classes by copying from a template or stored array
                    buttonElement.className = originalClasses.join(' ');
                }, 2000);
            } else {
                const originalText = buttonElement.textContent;
                buttonElement.textContent = 'L·ªói sao ch√©p!';
                buttonElement.classList.remove('bg-gray-600', 'hover:bg-gray-700');
                buttonElement.classList.add('bg-red-500');

                setTimeout(() => {
                    buttonElement.textContent = originalText;
                    buttonElement.classList.remove('bg-red-500');
                    buttonElement.classList.add('bg-gray-600', 'hover:bg-gray-700');
                }, 2000);
            }
        }


        function updateProgressBar() {
            let completed = 0;
            const total = stepsData.reduce((count, section) => count + section.tasks.length, 0);

            stepsData.forEach(section => {
                section.tasks.forEach(task => {
                    if (loadTaskState(task.id)) {
                        completed++;
                    }
                });
            });

            renderProgressBar(completed, total);
        }

        function renderProgressBar(completed, total) {
            let progressBar = document.getElementById('progress-bar-container');
            const percentage = total > 0 ? Math.round((completed / total) * 100) : 0;

            if (!progressBar) {
                progressBar = document.createElement('div');
                progressBar.id = 'progress-bar-container';
                progressBar.className = 'sticky top-0 z-10 p-4 bg-white shadow-xl rounded-b-2xl mb-8';
                
                const header = document.getElementById('app').querySelector('header');
                header.insertAdjacentElement('afterend', progressBar);
            }

            progressBar.innerHTML = `
                <div class="flex justify-between items-center mb-1">
                    <span class="text-sm font-semibold text-gray-700">Ti·∫øn ƒë·ªô Ho√†n th√†nh</span>
                    <span class="text-sm font-bold text-indigo-600">${completed} / ${total} (${percentage}%)</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                    <div class="bg-indigo-600 h-2.5 rounded-full transition-all duration-500 ease-out" style="width: ${percentage}%"></div>
                </div>
            `;
            
            if (percentage === 100) {
                progressBar.innerHTML += `
                    <div class="mt-2 text-center text-green-600 font-bold text-lg animate-pulse">
                        üéâ Ch√∫c m·ª´ng! D·ª± √°n c·ªßa b·∫°n ƒë√£ s·∫µn s√†ng Tri·ªÉn khai! üéâ
                    </div>
                `;
            }
        }
        
        function updateSlidePosition() {
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const phaseCounter = document.getElementById('phase-counter');
            
            const totalPhases = getDynamicStepsData().length;
            
            // 1. C·∫≠p nh·∫≠t tr·∫°ng th√°i hi·ªÉn th·ªã c·ªßa t·ª´ng slide
            getDynamicStepsData().forEach((section, index) => {
                const slideElement = document.getElementById(`slide-${section.id}`);
                if (slideElement) {
                    slideElement.classList.remove('slide-active', 'slide-hidden'); 
                    slideElement.style.transform = ''; // X√≥a transform c≈©

                    if (index === currentPhaseIndex) {
                        slideElement.classList.add('slide-active');
                    } else {
                        slideElement.classList.add('slide-hidden');
                        
                        if (index < currentPhaseIndex) {
                            // Slide ƒë√£ qua: Tr∆∞·ª£t v·ªÅ b√™n tr√°i (-100%)
                            slideElement.style.transform = 'translateX(-100%)';
                        } else {
                            // Slide s·∫Øp t·ªõi: Tr∆∞·ª£t v·ªÅ b√™n ph·∫£i (100%)
                            slideElement.style.transform = 'translateX(100%)';
                        }
                    }
                }
            });

            // 2. C·∫≠p nh·∫≠t tr·∫°ng th√°i n√∫t ƒëi·ªÅu h∆∞·ªõng
            prevBtn.disabled = (currentPhaseIndex === 0);
            nextBtn.disabled = (currentPhaseIndex === totalPhases - 1);
            
            // 3. C·∫≠p nh·∫≠t b·ªô ƒë·∫øm Phase
            phaseCounter.textContent = `Phase ${currentPhaseIndex + 1} / ${totalPhases}`;
        }
        
        function goToPhase(index) {
            const totalPhases = getDynamicStepsData().length;
            if (index >= 0 && index < totalPhases) {
                currentPhaseIndex = index;
                
                // *** FIX L·ªñI HI·ªÜU SU·∫§T T·∫†I ƒê√ÇY ***
                const slideElement = document.getElementById(`slide-${getDynamicStepsData()[index].id}`);
                // Ch·ªâ ƒëi·ªÅn n·ªôi dung n·∫øu n√≥ ch∆∞a ƒë∆∞·ª£c ƒëi·ªÅn (innerHTML r·ªóng)
                if (slideElement && slideElement.innerHTML.trim() === '') {
                     updateSlideContent(currentPhaseIndex); 
                } else {
                    // N·∫øu ƒë√£ c√≥ n·ªôi dung, ch·ªâ c·∫ßn g·ªçi l·∫°i ƒë·ªÉ c·∫≠p nh·∫≠t tr·∫°ng th√°i input/text c√° nh√¢n h√≥a
                    updateSlideContent(currentPhaseIndex, false);
                }
                
                // C·∫≠p nh·∫≠t v·ªã tr√≠
                updateSlidePosition(); 
            }
        }

        function navigateSlides(direction) {
            goToPhase(currentPhaseIndex + direction);
        }

        // Th√™m tham s·ªë `isFullRender` ƒë·ªÉ ki·ªÉm so√°t vi·ªác render l·∫°i to√†n b·ªô n·ªôi dung
        function updateSlideContent(phaseIndex, isFullRender = true) {
            const dynamicData = getDynamicStepsData();
            const section = dynamicData[phaseIndex];
            const slideElement = document.getElementById(`slide-${section.id}`);
            
            if (!slideElement) return;

            // N·∫øu kh√¥ng ph·∫£i render l·∫°i to√†n b·ªô, ta tho√°t s·ªõm sau khi c·∫≠p nh·∫≠t c√°c gi√° tr·ªã ƒë·ªông
            if (!isFullRender && slideElement.innerHTML.trim() !== '') {
                // Ta c√≥ th·ªÉ th√™m logic c·∫≠p nh·∫≠t gi√° tr·ªã ƒë·ªông ·ªü ƒë√¢y n·∫øu c·∫ßn,
                // nh∆∞ng hi·ªán t·∫°i, ta ƒë√£ ƒë·∫£m b·∫£o task.text v√† codeSnippet ƒë∆∞·ª£c c·∫≠p nh·∫≠t
                // th√¥ng qua getDynamicStepsData() tr∆∞·ªõc khi render l·∫ßn ƒë·∫ßu
                return;
            }
            
            // X√≥a n·ªôi dung c≈© (Ch·ªâ khi isFullRender l√† true)
            slideElement.innerHTML = ''; 

            // ==========================================================
            // 1. T·∫†O THANH BREADCRUMB (PROGRESS HEADER)
            // ==========================================================
            const breadcrumbContainer = document.createElement('div');
            breadcrumbContainer.className = 'flex flex-wrap items-center text-sm font-medium mb-6 p-3 bg-gray-100 rounded-xl shadow-inner border border-gray-200';
            
            dynamicData.forEach((phase, index) => {
                const isCurrent = index === phaseIndex;
                const isCompleted = index < phaseIndex;
                
                if (index > phaseIndex && !isCurrent) {
                    return; 
                }
                
                const span = document.createElement('span');
                span.className = `flex items-center whitespace-nowrap`;

                if (isCompleted) {
                    span.innerHTML = `
                        <button onclick="goToPhase(${index})" class="text-green-700 hover:text-green-900 transition duration-150 flex items-center font-semibold text-xs md:text-sm">
                            <svg class="w-4 h-4 mr-1 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                            ${index + 1}
                        </button>
                    `;
                } else if (isCurrent) {
                    span.innerHTML = `
                        <span class="text-indigo-600 font-extrabold text-sm md:text-base p-1 rounded-md bg-indigo-100">
                            ${index + 1}: ${phase.title}
                        </span>
                    `;
                }
                
                breadcrumbContainer.appendChild(span);

                if (isCompleted) {
                    const separator = document.createElement('span');
                    separator.className = 'mx-1.5 text-gray-400 font-light';
                    separator.textContent = '>';
                    breadcrumbContainer.appendChild(separator);
                }
            });

            slideElement.appendChild(breadcrumbContainer);

            // ==========================================================
            // 2. TI√äU ƒê·ªÄ V√Ä DANH S√ÅCH G·ªåN G√ÄNG H∆†N
            // ==========================================================
            
            const titleElement = document.createElement('h2');
            titleElement.className = `${section.color} text-white text-lg font-bold p-2 rounded-lg mb-4`;
            titleElement.textContent = section.title;
            slideElement.appendChild(titleElement);

            const ul = document.createElement('ul');
            ul.className = 'space-y-0.5 divide-y divide-gray-200'; 

            section.tasks.forEach(task => {
                const isChecked = loadTaskState(task.id);

                const li = document.createElement('li');
                li.className = 'py-1.5 px-3 rounded-lg transition duration-150 hover:bg-gray-50'; 
                
                // Checkbox and Label Container (main row)
                const checkContainer = document.createElement('div');
                checkContainer.className = 'flex items-start';
                
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.id = `check-${task.id}`;
                checkbox.checked = isChecked;
                checkbox.className = 'mt-1 mr-3 w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500 cursor-pointer flex-shrink-0';
                checkbox.addEventListener('change', () => toggleTask(task.id));
                
                // --- Task Text and Detail Button Wrapper ---
                const labelWrapper = document.createElement('div');
                // S·ª≠ d·ª•ng flex-1 ƒë·ªÉ n√≥ chi·∫øm h·∫øt ph·∫ßn kh√¥ng gian c√≤n l·∫°i
                labelWrapper.className = 'flex-1 flex justify-between items-start'; 
                
                const label = document.createElement('label');
                label.htmlFor = `check-${task.id}`;
                label.id = `label-${task.id}`; // Th√™m ID cho label ƒë·ªÉ toggleTask c√≥ th·ªÉ t√¨m th·∫•y
                // Kh√¥ng d√πng flex-1 cho label, m√† d√πng cho labelWrapper
                label.className = `text-gray-700 font-medium text-sm leading-snug cursor-pointer pr-4 ${isChecked ? 'line-through text-gray-400' : ''}`;
                label.innerHTML = task.text; 
                
                labelWrapper.appendChild(label); // Label (text) goes in wrapper
                
                // Detail Logic (Th√™m n√∫t ?)
                if (task.detail || task.codeSnippet) {
                    const detailButton = document.createElement('button');
                    detailButton.innerHTML = `<svg class="w-5 h-5 ml-2 text-indigo-500 hover:text-indigo-700 transition flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>`;
                    detailButton.title = "Xem chi ti·∫øt h∆∞·ªõng d·∫´n";
                    // TƒÉng k√≠ch th∆∞·ªõc button nh·∫π nh√†ng
                    detailButton.className = 'flex-shrink-0 focus:outline-none -mt-1 p-1 hover:bg-indigo-100 rounded-full'; 
                    
                    const detailContent = document.createElement('div');
                    detailContent.id = `detail-${task.id}`;
                    detailContent.className = 'hidden mt-2 ml-6 p-3 bg-indigo-50 border border-indigo-200 rounded-lg text-xs transition-all duration-300';
                    detailContent.innerHTML = (task.detail || '');

                    detailButton.addEventListener('click', (e) => {
                        e.preventDefault(); 
                        e.stopPropagation(); // NgƒÉn ch·∫∑n s·ª± ki·ªán click lan truy·ªÅn l√™n checkbox
                        detailContent.classList.toggle('hidden');
                        detailButton.classList.toggle('text-indigo-700'); // ƒê·ªïi m√†u khi ƒëang m·ªü
                    });

                    labelWrapper.appendChild(detailButton); // Button goes in wrapper
                    
                    // Th√™m Code Snippet v√†o Detail Content (N·∫øu c√≥)
                    if (task.codeSnippet) {
                        const codeWrapper = document.createElement('div');
                        codeWrapper.className = 'relative mt-2';
                        
                        // The actual code block (PRE)
                        const codePre = document.createElement('pre');
                        const code = document.createElement('code');
                        code.id = `code-snippet-${task.id}`; 
                        // Th√™m class ƒë·ªÉ ·∫©n code n·∫øu n√≥ ƒë∆∞·ª£c hi·ªÉn th·ªã trong detail
                        code.textContent = task.codeSnippet;
                        codePre.appendChild(code);

                        // Copy button
                        const copyButton = document.createElement('button');
                        copyButton.textContent = 'Sao ch√©p Code';
                        copyButton.className = 'absolute top-1 right-1 px-3 py-1 bg-gray-600 text-white text-xs font-semibold rounded-lg hover:bg-gray-700 transition duration-150';
                        copyButton.setAttribute('data-task-id', task.id);
                        copyButton.onclick = (e) => copyCode(task.id, e.target); 
                        
                        codeWrapper.appendChild(codePre);
                        codeWrapper.appendChild(copyButton);
                        detailContent.appendChild(codeWrapper);
                    }
                    
                    li.appendChild(detailContent); // Detail content goes in <li>, b√™n d∆∞·ªõi main row
                }
                
                checkContainer.appendChild(checkbox);
                checkContainer.appendChild(labelWrapper); // Wrapper (label + button)
                li.appendChild(checkContainer); // Append main row to <li>


                // Input Field (if required)
                if (task.isInputRequired) {
                    const inputContainer = document.createElement('div');
                    inputContainer.className = 'mt-1 ml-6 flex items-center space-x-3'; 
                    
                    const input = document.createElement('input');
                    input.type = 'text';
                    input.id = `input-${task.inputId}`;
                    
                    const currentValue = projectData[task.inputId] || '';
                    input.value = currentValue;

                    input.placeholder = task.inputPlaceholder;
                    input.className = `flex-grow px-2 py-1.5 border ${currentValue ? 'border-green-400' : 'border-indigo-300'} rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-ring-indigo-500 focus:border-indigo-500 text-xs`;
                    
                    input.addEventListener('blur', (e) => {
                        handleInput(task.inputId, e.target.value);
                    });

                    input.addEventListener('keydown', (e) => {
                        if (e.key === 'Enter') {
                            e.preventDefault(); 
                            e.target.blur(); 
                        }
                    });

                    inputContainer.appendChild(input); 

                    // Status Badge (ƒê√£ ghi nh·∫≠n)
                    if (currentValue) {
                        const statusBadge = document.createElement('span');
                        statusBadge.className = 'flex-shrink-0 inline-flex items-center px-2 py-0.5 text-xs font-medium leading-none text-green-800 bg-green-200 rounded-full';
                        statusBadge.innerHTML = 'ƒê√£ ghi nh·∫≠n';
                        inputContainer.appendChild(statusBadge);
                    }
                    
                    li.appendChild(inputContainer);
                }
                
                // Code Snippet (Code kh√¥ng n·∫±m trong detail - Ch·ªâ d√πng cho c√°c b∆∞·ªõc kh√°c)
                if (task.codeSnippet && !task.detail) {
                    // Logic n√†y kh√¥ng c·∫ßn thi·∫øt v√¨ t·∫•t c·∫£ code snippet ƒë√£ ƒë∆∞·ª£c chuy·ªÉn v√†o Detail
                }

                ul.appendChild(li);
            });

            slideElement.appendChild(ul);
        }

        // CH·ªà T·∫†O KHUNG R·ªñNG C·ª¶A C√ÅC SLIDE (KH√îNG ƒêI·ªÄN N·ªòI DUNG)
        function renderSteps() {
            const slidesWrapper = document.getElementById('slides-wrapper');
            slidesWrapper.innerHTML = ''; 

            const dynamicStepsData = getDynamicStepsData();
            
            dynamicStepsData.forEach((section, index) => { 
                const sectionElement = document.createElement('div');
                // T·∫†O KHUNG R·ªñNG
                sectionElement.className = 'slide-item pt-6 px-5 md:px-6'; 
                sectionElement.id = `slide-${section.id}`;
                
                slidesWrapper.appendChild(sectionElement);
                // KH√îNG G·ªåI updateSlideContent(index) ·ªû ƒê√ÇY N·ªÆA
            });
            
            updateProgressBar();
        }

        function getDynamicStepsData() {
            const dynamicData = JSON.parse(JSON.stringify(stepsData)); 
            
            // Th√™m gi√° tr·ªã m·∫∑c ƒë·ªãnh cho projectName n·∫øu ch∆∞a c√≥
            projectData.projectName = projectData.projectName || 'sport-manager-online'; 
            
            const apiKey = projectData.firebaseApiKey || 'D√°n KEY ƒë√£ l∆∞u t·∫°i ƒë√¢y';
            const repoUrl = projectData.githubRepoUrl || 'URL Repo ƒë√£ l∆∞u';

            // C·∫≠p nh·∫≠t Phase 3 d·ª±a tr√™n t√™n d·ª± √°n
            if (dynamicData[2] && dynamicData[2].tasks && dynamicData[2].tasks[0]) {
                dynamicData[2].tasks[0].detail = dynamicData[2].tasks[0].detail.replace("T√™n D·ª± √°n c·ªßa b·∫°n", projectData.projectName);
            }
            
            // C·∫≠p nh·∫≠t Phase 5
            if (dynamicData[4] && dynamicData[4].tasks && dynamicData[4].tasks[0]) {
                dynamicData[4].tasks[0].text = `ƒêƒÉng nh·∫≠p Vercel v√† ch·ªçn "Add New Project", sau ƒë√≥ Import Repository t·ª´ GitHub (<a href="${repoUrl || '#'}" target="_blank" class="text-indigo-600 underline">${repoUrl || 'Repo ƒë√£ t·∫°o tr·ª±c tuy·∫øn'}</a>).`;
            }

            return dynamicData;
        }

        function initApp() {
            loadState(); 
            // Th√™m gi√° tr·ªã m·∫∑c ƒë·ªãnh cho projectName n·∫øu ch∆∞a c√≥
            projectData.projectName = projectData.projectName || 'sport-manager-online'; 

            renderSteps(); 
            
            // G·ªåI updateSlideContent L·∫¶N ƒê·∫¶U TI√äN CHO PHASE 0
            updateSlideContent(currentPhaseIndex);
            
            goToPhase(0); 
            updateProjectDataDisplay(); 
        }

        window.onload = initApp;
    </script>

</body>
</html>
